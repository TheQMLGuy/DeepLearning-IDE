function ze(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Pe={exports:{}},d={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K=Symbol.for("react.element"),Be=Symbol.for("react.portal"),He=Symbol.for("react.fragment"),We=Symbol.for("react.strict_mode"),Ke=Symbol.for("react.profiler"),Ge=Symbol.for("react.provider"),Ye=Symbol.for("react.context"),Je=Symbol.for("react.forward_ref"),Qe=Symbol.for("react.suspense"),Xe=Symbol.for("react.memo"),Ze=Symbol.for("react.lazy"),ve=Symbol.iterator;function et(e){return e===null||typeof e!="object"?null:(e=ve&&e[ve]||e["@@iterator"],typeof e=="function"?e:null)}var _e={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Me=Object.assign,Re={};function V(e,t,r){this.props=e,this.context=t,this.refs=Re,this.updater=r||_e}V.prototype.isReactComponent={};V.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};V.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function $e(){}$e.prototype=V.prototype;function fe(e,t,r){this.props=e,this.context=t,this.refs=Re,this.updater=r||_e}var de=fe.prototype=new $e;de.constructor=fe;Me(de,V.prototype);de.isPureReactComponent=!0;var ge=Array.isArray,Ce=Object.prototype.hasOwnProperty,pe={current:null},Ie={key:!0,ref:!0,__self:!0,__source:!0};function ke(e,t,r){var n,o={},u=null,c=null;if(t!=null)for(n in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(u=""+t.key),t)Ce.call(t,n)&&!Ie.hasOwnProperty(n)&&(o[n]=t[n]);var i=arguments.length-2;if(i===1)o.children=r;else if(1<i){for(var a=Array(i),s=0;s<i;s++)a[s]=arguments[s+2];o.children=a}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)o[n]===void 0&&(o[n]=i[n]);return{$$typeof:K,type:e,key:u,ref:c,props:o,_owner:pe.current}}function tt(e,t){return{$$typeof:K,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function he(e){return typeof e=="object"&&e!==null&&e.$$typeof===K}function rt(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var me=/\/+/g;function ce(e,t){return typeof e=="object"&&e!==null&&e.key!=null?rt(""+e.key):t.toString(36)}function te(e,t,r,n,o){var u=typeof e;(u==="undefined"||u==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(u){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case K:case Be:c=!0}}if(c)return c=e,o=o(c),e=n===""?"."+ce(c,0):n,ge(o)?(r="",e!=null&&(r=e.replace(me,"$&/")+"/"),te(o,t,r,"",function(s){return s})):o!=null&&(he(o)&&(o=tt(o,r+(!o.key||c&&c.key===o.key?"":(""+o.key).replace(me,"$&/")+"/")+e)),t.push(o)),1;if(c=0,n=n===""?".":n+":",ge(e))for(var i=0;i<e.length;i++){u=e[i];var a=n+ce(u,i);c+=te(u,t,r,a,o)}else if(a=et(e),typeof a=="function")for(e=a.call(e),i=0;!(u=e.next()).done;)u=u.value,a=n+ce(u,i++),c+=te(u,t,r,a,o);else if(u==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function X(e,t,r){if(e==null)return e;var n=[],o=0;return te(e,n,"","",function(u){return t.call(r,u,o++)}),n}function nt(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var O={current:null},re={transition:null},ot={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:re,ReactCurrentOwner:pe};function Le(){throw Error("act(...) is not supported in production builds of React.")}d.Children={map:X,forEach:function(e,t,r){X(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return X(e,function(){t++}),t},toArray:function(e){return X(e,function(t){return t})||[]},only:function(e){if(!he(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};d.Component=V;d.Fragment=He;d.Profiler=Ke;d.PureComponent=fe;d.StrictMode=We;d.Suspense=Qe;d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ot;d.act=Le;d.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Me({},e.props),o=e.key,u=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(u=t.ref,c=pe.current),t.key!==void 0&&(o=""+t.key),e.type&&e.type.defaultProps)var i=e.type.defaultProps;for(a in t)Ce.call(t,a)&&!Ie.hasOwnProperty(a)&&(n[a]=t[a]===void 0&&i!==void 0?i[a]:t[a])}var a=arguments.length-2;if(a===1)n.children=r;else if(1<a){i=Array(a);for(var s=0;s<a;s++)i[s]=arguments[s+2];n.children=i}return{$$typeof:K,type:e.type,key:o,ref:u,props:n,_owner:c}};d.createContext=function(e){return e={$$typeof:Ye,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Ge,_context:e},e.Consumer=e};d.createElement=ke;d.createFactory=function(e){var t=ke.bind(null,e);return t.type=e,t};d.createRef=function(){return{current:null}};d.forwardRef=function(e){return{$$typeof:Je,render:e}};d.isValidElement=he;d.lazy=function(e){return{$$typeof:Ze,_payload:{_status:-1,_result:e},_init:nt}};d.memo=function(e,t){return{$$typeof:Xe,type:e,compare:t===void 0?null:t}};d.startTransition=function(e){var t=re.transition;re.transition={};try{e()}finally{re.transition=t}};d.unstable_act=Le;d.useCallback=function(e,t){return O.current.useCallback(e,t)};d.useContext=function(e){return O.current.useContext(e)};d.useDebugValue=function(){};d.useDeferredValue=function(e){return O.current.useDeferredValue(e)};d.useEffect=function(e,t){return O.current.useEffect(e,t)};d.useId=function(){return O.current.useId()};d.useImperativeHandle=function(e,t,r){return O.current.useImperativeHandle(e,t,r)};d.useInsertionEffect=function(e,t){return O.current.useInsertionEffect(e,t)};d.useLayoutEffect=function(e,t){return O.current.useLayoutEffect(e,t)};d.useMemo=function(e,t){return O.current.useMemo(e,t)};d.useReducer=function(e,t,r){return O.current.useReducer(e,t,r)};d.useRef=function(e){return O.current.useRef(e)};d.useState=function(e){return O.current.useState(e)};d.useSyncExternalStore=function(e,t,r){return O.current.useSyncExternalStore(e,t,r)};d.useTransition=function(){return O.current.useTransition()};d.version="18.3.1";Pe.exports=d;var f=Pe.exports;const D=ze(f),ut="modulepreload",it=function(e,t){return new URL(e,t).href},ye={},vr=function(t,r,n){let o=Promise.resolve();if(r&&r.length>0){const c=document.getElementsByTagName("link"),i=document.querySelector("meta[property=csp-nonce]"),a=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(r.map(s=>{if(s=it(s,n),s in ye)return;ye[s]=!0;const S=s.endsWith(".css"),_=S?'[rel="stylesheet"]':"";if(!!n)for(let R=c.length-1;R>=0;R--){const $=c[R];if($.href===s&&(!S||$.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${_}`))return;const M=document.createElement("link");if(M.rel=S?"stylesheet":ut,S||(M.as="script"),M.crossOrigin="",M.href=s,a&&M.setAttribute("nonce",a),document.head.appendChild(M),S)return new Promise((R,$)=>{M.addEventListener("load",R),M.addEventListener("error",()=>$(new Error(`Unable to preload CSS for ${s}`)))})}))}function u(c){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=c,window.dispatchEvent(i),!i.defaultPrevented)throw c}return o.then(c=>{for(const i of c||[])i.status==="rejected"&&u(i.reason);return t().catch(u)})};function be(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function ct(e){if(Array.isArray(e))return e}function at(e,t,r){return(t=vt(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function lt(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,o,u,c,i=[],a=!0,s=!1;try{if(u=(r=r.call(e)).next,t!==0)for(;!(a=(n=u.call(r)).done)&&(i.push(n.value),i.length!==t);a=!0);}catch(S){s=!0,o=S}finally{try{if(!a&&r.return!=null&&(c=r.return(),Object(c)!==c))return}finally{if(s)throw o}}return i}}function st(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function we(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function Oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?we(Object(r),!0).forEach(function(n){at(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):we(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function ft(e,t){if(e==null)return{};var r,n,o=dt(e,t);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(n=0;n<u.length;n++)r=u[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function dt(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function pt(e,t){return ct(e)||lt(e,t)||gt(e,t)||st()}function ht(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function vt(e){var t=ht(e,"string");return typeof t=="symbol"?t:t+""}function gt(e,t){if(e){if(typeof e=="string")return be(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?be(e,t):void 0}}function mt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Se(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,n)}return r}function je(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?Se(Object(r),!0).forEach(function(n){mt(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Se(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function yt(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(n){return t.reduceRight(function(o,u){return u(o)},n)}}function B(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return t.apply(r,[].concat(o,i))}}}function ne(e){return{}.toString.call(e).includes("Object")}function bt(e){return!Object.keys(e).length}function W(e){return typeof e=="function"}function wt(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ot(e,t){return ne(t)||I("changeType"),Object.keys(t).some(function(r){return!wt(e,r)})&&I("changeField"),t}function St(e){W(e)||I("selectorType")}function jt(e){W(e)||ne(e)||I("handlerType"),ne(e)&&Object.values(e).some(function(t){return!W(t)})&&I("handlersType")}function Et(e){e||I("initialIsRequired"),ne(e)||I("initialType"),bt(e)&&I("initialContent")}function Pt(e,t){throw new Error(e[t]||e.default)}var _t={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',default:"an unknown error accured in `state-local` package"},I=B(Pt)(_t),Z={changes:Ot,selector:St,handler:jt,initial:Et};function Mt(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};Z.initial(e),Z.handler(t);var r={current:e},n=B(Ct)(r,t),o=B($t)(r),u=B(Z.changes)(e),c=B(Rt)(r);function i(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(S){return S};return Z.selector(s),s(r.current)}function a(s){yt(n,o,u,c)(s)}return[i,a]}function Rt(e,t){return W(t)?t(e.current):t}function $t(e,t){return e.current=je(je({},e.current),t),t}function Ct(e,t,r){return W(t)?t(e.current):Object.keys(r).forEach(function(n){var o;return(o=t[n])===null||o===void 0?void 0:o.call(t,e.current[n])}),r}var It={create:Mt},kt={paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.55.1/min/vs"}};function Lt(e){return function t(){for(var r=this,n=arguments.length,o=new Array(n),u=0;u<n;u++)o[u]=arguments[u];return o.length>=e.length?e.apply(this,o):function(){for(var c=arguments.length,i=new Array(c),a=0;a<c;a++)i[a]=arguments[a];return t.apply(r,[].concat(o,i))}}}function At(e){return{}.toString.call(e).includes("Object")}function Tt(e){return e||Ee("configIsRequired"),At(e)||Ee("configType"),e.urls?(xt(),{paths:{vs:e.urls.monacoBase}}):e}function xt(){console.warn(Ae.deprecation)}function Dt(e,t){throw new Error(e[t]||e.default)}var Ae={configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"an unknown error accured in `@monaco-editor/loader` package",deprecation:`Deprecation warning!
    You are using deprecated way of configuration.

    Instead of using
      monaco.config({ urls: { monacoBase: '...' } })
    use
      monaco.config({ paths: { vs: '...' } })

    For more please check the link https://github.com/suren-atoyan/monaco-loader#config
  `},Ee=Lt(Dt)(Ae),Vt={config:Tt},Ut=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return function(o){return r.reduceRight(function(u,c){return c(u)},o)}};function Te(e,t){return Object.keys(t).forEach(function(r){t[r]instanceof Object&&e[r]&&Object.assign(t[r],Te(e[r],t[r]))}),Oe(Oe({},e),t)}var qt={type:"cancelation",msg:"operation is manually canceled"};function ae(e){var t=!1,r=new Promise(function(n,o){e.then(function(u){return t?o(qt):n(u)}),e.catch(o)});return r.cancel=function(){return t=!0},r}var Ft=["monaco"],Nt=It.create({config:kt,isInitialized:!1,resolve:null,reject:null,monaco:null}),xe=pt(Nt,2),G=xe[0],oe=xe[1];function zt(e){var t=Vt.config(e),r=t.monaco,n=ft(t,Ft);oe(function(o){return{config:Te(o.config,n),monaco:r}})}function Bt(){var e=G(function(t){var r=t.monaco,n=t.isInitialized,o=t.resolve;return{monaco:r,isInitialized:n,resolve:o}});if(!e.isInitialized){if(oe({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),ae(le);if(window.monaco&&window.monaco.editor)return De(window.monaco),e.resolve(window.monaco),ae(le);Ut(Ht,Kt)(Gt)}return ae(le)}function Ht(e){return document.body.appendChild(e)}function Wt(e){var t=document.createElement("script");return e&&(t.src=e),t}function Kt(e){var t=G(function(n){var o=n.config,u=n.reject;return{config:o,reject:u}}),r=Wt("".concat(t.config.paths.vs,"/loader.js"));return r.onload=function(){return e()},r.onerror=t.reject,r}function Gt(){var e=G(function(r){var n=r.config,o=r.resolve,u=r.reject;return{config:n,resolve:o,reject:u}}),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],function(r){var n=r.m||r;De(n),e.resolve(n)},function(r){e.reject(r)})}function De(e){G().monaco||oe({monaco:e})}function Yt(){return G(function(e){var t=e.monaco;return t})}var le=new Promise(function(e,t){return oe({resolve:e,reject:t})}),Ve={config:zt,init:Bt,__getMonacoInstance:Yt},Jt={wrapper:{display:"flex",position:"relative",textAlign:"initial"},fullWidth:{width:"100%"},hide:{display:"none"}},se=Jt,Qt={container:{display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"}},Xt=Qt;function Zt({children:e}){return D.createElement("div",{style:Xt.container},e)}var er=Zt,tr=er;function rr({width:e,height:t,isEditorReady:r,loading:n,_ref:o,className:u,wrapperProps:c}){return D.createElement("section",{style:{...se.wrapper,width:e,height:t},...c},!r&&D.createElement(tr,null,n),D.createElement("div",{ref:o,style:{...se.fullWidth,...!r&&se.hide},className:u}))}var nr=rr,Ue=f.memo(nr);function or(e){f.useEffect(e,[])}var qe=or;function ur(e,t,r=!0){let n=f.useRef(!0);f.useEffect(n.current||!r?()=>{n.current=!1}:e,t)}var P=ur;function H(){}function x(e,t,r,n){return ir(e,n)||cr(e,t,r,n)}function ir(e,t){return e.editor.getModel(Fe(e,t))}function cr(e,t,r,n){return e.editor.createModel(t,r,n?Fe(e,n):void 0)}function Fe(e,t){return e.Uri.parse(t)}function ar({original:e,modified:t,language:r,originalLanguage:n,modifiedLanguage:o,originalModelPath:u,modifiedModelPath:c,keepCurrentOriginalModel:i=!1,keepCurrentModifiedModel:a=!1,theme:s="light",loading:S="Loading...",options:_={},height:Y="100%",width:M="100%",className:R,wrapperProps:$={},beforeMount:ue=H,onMount:ie=H}){let[j,U]=f.useState(!1),[k,y]=f.useState(!0),b=f.useRef(null),m=f.useRef(null),q=f.useRef(null),w=f.useRef(ie),h=f.useRef(ue),L=f.useRef(!1);qe(()=>{let l=Ve.init();return l.then(v=>(m.current=v)&&y(!1)).catch(v=>(v==null?void 0:v.type)!=="cancelation"&&console.error("Monaco initialization: error:",v)),()=>b.current?F():l.cancel()}),P(()=>{if(b.current&&m.current){let l=b.current.getOriginalEditor(),v=x(m.current,e||"",n||r||"text",u||"");v!==l.getModel()&&l.setModel(v)}},[u],j),P(()=>{if(b.current&&m.current){let l=b.current.getModifiedEditor(),v=x(m.current,t||"",o||r||"text",c||"");v!==l.getModel()&&l.setModel(v)}},[c],j),P(()=>{let l=b.current.getModifiedEditor();l.getOption(m.current.editor.EditorOption.readOnly)?l.setValue(t||""):t!==l.getValue()&&(l.executeEdits("",[{range:l.getModel().getFullModelRange(),text:t||"",forceMoveMarkers:!0}]),l.pushUndoStop())},[t],j),P(()=>{var l,v;(v=(l=b.current)==null?void 0:l.getModel())==null||v.original.setValue(e||"")},[e],j),P(()=>{let{original:l,modified:v}=b.current.getModel();m.current.editor.setModelLanguage(l,n||r||"text"),m.current.editor.setModelLanguage(v,o||r||"text")},[r,n,o],j),P(()=>{var l;(l=m.current)==null||l.editor.setTheme(s)},[s],j),P(()=>{var l;(l=b.current)==null||l.updateOptions(_)},[_],j);let J=f.useCallback(()=>{var C;if(!m.current)return;h.current(m.current);let l=x(m.current,e||"",n||r||"text",u||""),v=x(m.current,t||"",o||r||"text",c||"");(C=b.current)==null||C.setModel({original:l,modified:v})},[r,t,o,e,n,u,c]),Q=f.useCallback(()=>{var l;!L.current&&q.current&&(b.current=m.current.editor.createDiffEditor(q.current,{automaticLayout:!0,..._}),J(),(l=m.current)==null||l.editor.setTheme(s),U(!0),L.current=!0)},[_,s,J]);f.useEffect(()=>{j&&w.current(b.current,m.current)},[j]),f.useEffect(()=>{!k&&!j&&Q()},[k,j,Q]);function F(){var v,C,A,N;let l=(v=b.current)==null?void 0:v.getModel();i||((C=l==null?void 0:l.original)==null||C.dispose()),a||((A=l==null?void 0:l.modified)==null||A.dispose()),(N=b.current)==null||N.dispose()}return D.createElement(Ue,{width:M,height:Y,isEditorReady:j,loading:S,_ref:q,className:R,wrapperProps:$})}var lr=ar;f.memo(lr);function sr(e){let t=f.useRef();return f.useEffect(()=>{t.current=e},[e]),t.current}var fr=sr,ee=new Map;function dr({defaultValue:e,defaultLanguage:t,defaultPath:r,value:n,language:o,path:u,theme:c="light",line:i,loading:a="Loading...",options:s={},overrideServices:S={},saveViewState:_=!0,keepCurrentModel:Y=!1,width:M="100%",height:R="100%",className:$,wrapperProps:ue={},beforeMount:ie=H,onMount:j=H,onChange:U,onValidate:k=H}){let[y,b]=f.useState(!1),[m,q]=f.useState(!0),w=f.useRef(null),h=f.useRef(null),L=f.useRef(null),J=f.useRef(j),Q=f.useRef(ie),F=f.useRef(),l=f.useRef(n),v=fr(u),C=f.useRef(!1),A=f.useRef(!1);qe(()=>{let p=Ve.init();return p.then(g=>(w.current=g)&&q(!1)).catch(g=>(g==null?void 0:g.type)!=="cancelation"&&console.error("Monaco initialization: error:",g)),()=>h.current?Ne():p.cancel()}),P(()=>{var g,E,z,T;let p=x(w.current,e||n||"",t||o||"",u||r||"");p!==((g=h.current)==null?void 0:g.getModel())&&(_&&ee.set(v,(E=h.current)==null?void 0:E.saveViewState()),(z=h.current)==null||z.setModel(p),_&&((T=h.current)==null||T.restoreViewState(ee.get(u))))},[u],y),P(()=>{var p;(p=h.current)==null||p.updateOptions(s)},[s],y),P(()=>{!h.current||n===void 0||(h.current.getOption(w.current.editor.EditorOption.readOnly)?h.current.setValue(n):n!==h.current.getValue()&&(A.current=!0,h.current.executeEdits("",[{range:h.current.getModel().getFullModelRange(),text:n,forceMoveMarkers:!0}]),h.current.pushUndoStop(),A.current=!1))},[n],y),P(()=>{var g,E;let p=(g=h.current)==null?void 0:g.getModel();p&&o&&((E=w.current)==null||E.editor.setModelLanguage(p,o))},[o],y),P(()=>{var p;i!==void 0&&((p=h.current)==null||p.revealLine(i))},[i],y),P(()=>{var p;(p=w.current)==null||p.editor.setTheme(c)},[c],y);let N=f.useCallback(()=>{var p;if(!(!L.current||!w.current)&&!C.current){Q.current(w.current);let g=u||r,E=x(w.current,n||e||"",t||o||"",g||"");h.current=(p=w.current)==null?void 0:p.editor.create(L.current,{model:E,automaticLayout:!0,...s},S),_&&h.current.restoreViewState(ee.get(g)),w.current.editor.setTheme(c),i!==void 0&&h.current.revealLine(i),b(!0),C.current=!0}},[e,t,r,n,o,u,s,S,_,c,i]);f.useEffect(()=>{y&&J.current(h.current,w.current)},[y]),f.useEffect(()=>{!m&&!y&&N()},[m,y,N]),l.current=n,f.useEffect(()=>{var p,g;y&&U&&((p=F.current)==null||p.dispose(),F.current=(g=h.current)==null?void 0:g.onDidChangeModelContent(E=>{A.current||U(h.current.getValue(),E)}))},[y,U]),f.useEffect(()=>{if(y){let p=w.current.editor.onDidChangeMarkers(g=>{var z;let E=(z=h.current.getModel())==null?void 0:z.uri;if(E&&g.find(T=>T.path===E.path)){let T=w.current.editor.getModelMarkers({resource:E});k==null||k(T)}});return()=>{p==null||p.dispose()}}return()=>{}},[y,k]);function Ne(){var p,g;(p=F.current)==null||p.dispose(),Y?_&&ee.set(u,h.current.saveViewState()):(g=h.current.getModel())==null||g.dispose(),h.current.dispose()}return D.createElement(Ue,{width:M,height:R,isEditorReady:y,loading:a,_ref:L,className:$,wrapperProps:ue})}var pr=dr,hr=f.memo(pr),gr=hr;export{gr as F,D as R,vr as _,f as r};
